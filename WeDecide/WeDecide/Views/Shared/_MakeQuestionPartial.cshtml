@using System.Web.Mvc.Ajax;
@model WeDecide.ViewModels.MakeQuestionViewModel

<div class="make-question">
    <div id="editBox" class="white_content">
        <header>
            <h2>Make a New Question</h2>
        </header>
        <div>
            <form name="MakeQuestion" action="/Question/New" method="post">
                @*@using (Ajax.BeginRouteForm("New Question", new AjaxOptions() { UpdateTargetId = "MakeQuestionPopup", HttpMethod = "POST" }))
                {*@
                    <div class="form-group overflowdiv" ng-controller="UxCtrl">
                        @Html.ValidationMessageFor(x => x.Question)
                        <label>Question Text: </label>
                        @Html.TextBoxFor(x => x.Question, new { @class = "form-control", @name = "questionInput", @placeholder = "What's on your mind?" })

                        @Html.ValidationMessageFor(x => x.Responses)
                        <ul id="responseHolder">
                            <li class="response" ng-repeat="resp in responses">
                                <label for="Responses">Response: </label> <input type="text" name="Responses" class="form-control" ng-model="resp" data-val="true" />
                                <a href="" ng-click="removeResponse(resp)">X</a>
                            </li>
                        </ul>
                        <input type="text" name="Responses" class="form-control" placeholder="Possible question response"
                               ng-model="newResp" />

                        <button id="addResponse" type="button" class="btn btn-default" ng-click="addResponse()">Add More Responses</button>

                        @Html.ValidationMessageFor(x => x.QuestionScope)
                        @Html.EnumDropDownListFor(x => x.QuestionScope)
                        <br />

                        <p>
                            @Html.CheckBoxFor(x => x.FreeResponseEnabled)
                            Allow free response on my question.
                        </p>
                        <br />

                        @Html.ValidationMessageFor(x => x)
                        <p>The question should be available for: </p>
                        <p>Hours: <input type="text" value="0" id="Hours" name="Hours" data-val="true" /> Minutes : <input type="text" value="10" id="Minutes" name="Minutes" data-val="true" /></p>
                        <input name="form_submit" type="button" value="Make Question" class="btn btn-success" />
                        @*<input type="submit" value="Make Question" class="btn btn-success"/>*@
                    </div>
                @*}*@
            </form>
        </div>
        @*<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Scripts/jquery.validate.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.js")" type="text/javascript"></script>*@
        @Scripts.Render("~/Scripts/jquery")
    </div>
    <section id="fade" class="black_overlay"></section>
</div>
@*@section scripts {
<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.js")" type="text/javascript"></script>
}*@
